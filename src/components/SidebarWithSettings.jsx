import React, { useState } from 'react';
import AuthBar from './AuthBar';
import Settings from './Settings';
export default function Sidebar({ onCreate, search, setSearch, tagFilter, setTagFilter, exportNotes, importNotes }){ const [openSettings,setOpenSettings]=useState(false); return (<aside className='w-80 border-r bg-white p-4 flex flex-col gap-4'><div className='flex items-center justify-between'><div className='flex items-center gap-3'><h2 className='text-lg font-bold'>Notely</h2></div><button className='text-sm px-3 py-1 bg-blue-600 text-white rounded' onClick={onCreate}>New</button></div><AuthBar /><input placeholder='검색 (제목/본문/태그)' className='p-2 border rounded' onChange={e=>setSearch(e.target.value)} /><div className='mt-2'><div className='text-xs text-gray-500 mb-1'>태그 필터</div><input value={tagFilter} onChange={e=>setTagFilter(e.target.value)} placeholder='태그로 필터(예: work)' className='p-2 border rounded w-full' /></div><div className='flex-1 overflow-auto'></div><div className='flex flex-col gap-2'><button onClick={()=>setOpenSettings(true)} className='py-2 border rounded'>설정</button><button onClick={() => { const txt = exportNotes(); if(!txt) return alert('내보내기 실패'); const blob = new Blob([txt], {type: 'application/json'}); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = `notely_export_${Date.now()}.json`; a.click(); URL.revokeObjectURL(url) }} className='py-2 border rounded'>내보내기 (JSON)</button></div>{openSettings && <div className='mt-2'><Settings onClose={()=>setOpenSettings(false)} /></div>}</aside>);
